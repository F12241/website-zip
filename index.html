<!DOCTYPE html><html lang="id">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Login Neon</title>
<style>
  body{
    font-family: Arial, sans-serif;
    background:#050515;
    color:white;
    margin:0;
  }.center{ max-width:420px; margin:90px auto; padding:30px; border-radius:18px; background:#0D0F1A; box-shadow:0 0 25px rgba(0,255,255,0.35); border:1px solid rgba(0,255,255,0.4); }

h2{ text-align:center; font-size:26px; color:#6BD6FF; text-shadow:0 0 10px #00E1FF; }

input,button{ width:100%; padding:12px; border:none; margin-top:12px; font-size:15px; border-radius:10px; }

input{ background:#1B1D2D; color:white; }

button{ background:linear-gradient(90deg,#00D4FF,#8A2BFF); color:white; font-weight:600; cursor:pointer; box-shadow:0 0 10px rgba(0,200,255,0.4); }

button:hover{opacity:0.85;}

#dashboard{display:none; padding:20px;}

.box{ background:#0D0F1A; padding:20px; border-radius:15px; margin-bottom:20px; border:1px solid rgba(0,255,255,0.3); box-shadow:0 0 15px rgba(0,255,255,0.25); }

textarea{ width:100%; height:260px; margin-top:10px; border-radius:12px; padding:10px; background:#1B1D2D; color:white; }

</style>
</head>
<body><div class="center" id="loginBox">
  <h2>⚡ LOGIN ⚡</h2>
  <p style="text-align:center; margin-top:-10px; color:#93C9FF;">Masuk ke sistem</p>
  <input id="user" placeholder="Username">
  <input id="pass" placeholder="Password" type="password">
  <button onclick="login()">Masuk</button>
</div><div id="dashboard">
  <h2 id="roleTitle"></h2>  <div id="adminPanel" style="display:none;">
    <button onclick="toggleCreateUser()" style="margin-bottom:15px; background:linear-gradient(90deg,#00D4FF,#8A2BFF); padding:12px; border-radius:10px; border:none; color:white; font-weight:600; box-shadow:0 0 10px rgba(0,200,255,0.4);">Create User</button><div class="box" id="createUserBox" style="display:none;">
  <h3>Tambah User</h3>
  <input id="newUser" placeholder="Username baru">
  <input id="newPass" placeholder="Password baru" type="password">
  <button onclick="addUser()">Tambah User</button>
</div>

<div class="box">
  <h3>Tambah User</h3>
  <input id="newUser" placeholder="Username baru">
  <input id="newPass" placeholder="Password baru" type="password">
  <button onclick="addUser()">Tambah User</button>
</div>

<div class="box">
  <h3>Copy Web to HTML</h3>
  <input id="urlAdmin" placeholder="https://example.com">
  <button onclick="copyHTML('admin')">Ambil HTML</button>
  <textarea id="outAdmin"></textarea>
  
  
  <button onclick="salinSemua('outAdmin')">Salin Semua Kode</button>
</div>

  </div>  <div id="userPanel" style="display:none;">
    <div class="box">
      <h3>Copy Web to HTML</h3>
      <input id="urlUser" placeholder="https://example.com">
      <button onclick="copyHTML('user')">Ambil HTML</button>
      <textarea id="outUser"></textarea><button onclick="salinSemua('outUser')">Salin Semua Kode</button>
</div>

  </div></div><script>
if(!localStorage.users){
  localStorage.users = JSON.stringify([
    {user:"admin", pass:"admin123", role:"admin"}
  ]);
}

function login(){
  let u = user.value.trim();
  let p = pass.value.trim();
  let db = JSON.parse(localStorage.users);
  let acc = db.find(x=>x.user===u && x.pass===p);

  if(!acc){ alert("Login gagal"); return; }

  loginBox.style.display='none';
  dashboard.style.display='block';
  roleTitle.innerHTML = "Dashboard: "+acc.role.toUpperCase();

  if(acc.role==='admin') adminPanel.style.display='block';
  else userPanel.style.display='block';
}

function addUser(){
  let u = newUser.value.trim();
  let p = newPass.value.trim();
  if(!u||!p){alert("Isi username & password"); return;}

  let db = JSON.parse(localStorage.users);
  db.push({user:u, pass:p, role:"user"});
  localStorage.users = JSON.stringify(db);

  alert("User berhasil ditambahkan!");
  newUser.value="";
  newPass.value="";
}

async function copyHTML(mode){
  let url = mode==='admin'? urlAdmin.value : urlUser.value;
  let output = mode==='admin'? outAdmin : outUser;

  try{
    const res = await fetch('/proxy?url='+encodeURIComponent(url));
    const text = await res.text();
    output.value = text;
  }catch(err){ output.value = "Gagal mengambil HTML."; }
}



function salinSemua(id){
  let text = document.getElementById(id).value;
  navigator.clipboard.writeText("<html>\n"+text+"\n</html>");
}
function toggleCreateUser(){
  let box = document.getElementById('createUserBox');
  box.style.display = box.style.display === 'none' ? 'block' : 'none';
}

</script></body>
</html>
